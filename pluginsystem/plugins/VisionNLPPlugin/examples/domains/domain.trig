@prefix schema: <http://schema.org/> .
# @base <http://localhost:8090/rdf4j/repositories/domain#> .

@prefix agents: <http://localhost:8090/rdf4j/repositories/agents#> .
@prefix behaviors: <http://localhost:8090/rdf4j/repositories/behaviors#> .
@prefix domain: <http://localhost:8090/rdf4j/repositories/domain#> .
@prefix services: <http://localhost:8090/rdf4j/repositories/services#> .

@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ajan: <http://www.ajan.de/ajan-ns#> .
@prefix bt: <http://www.ajan.de/behavior/bt-ns#> .
@prefix asp: <http://www.ajan.de/behavior/asp-ns#> .
@prefix mosim: <http://www.dfki.de/mosim-ns#> .
@prefix suite: <http://www.dfki.de/suite-ns#> .
@prefix aml: <https://w3id.org/i40/aml#> .
@prefix test: <http://test.de#> .
@prefix wgs84_pos: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix transit: <http://vocab.org/transit/terms/> .
@prefix gn: <http://www.geonames.org/ontology#> .

@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix ex: <http://www.example.com/> .
@prefix carml: <http://carml.taxonic.com/carml/> .
@prefix vision-ns: <http://www.ajan.de/behavior/vision-nlp-ns#> .
@prefix ajan: <http://www.ajan.de/> .

# --------------------------------------------
# --------------- RML Mappings ---------------
# --------------------------------------------

# --------------------------------
# WarehouseMapping ---------------
# --------------------------------
domain:WarehouseTestMapping {
    domain:WarehouseMapping a rr:TriplesMap ;
        rml:logicalSource
            [
                rml:source
                [
                    a carml:Stream ;
                ];
                rml:referenceFormulation ql:JSONPath ;
                rml:iterator "$.items[*]" ;
            ] ;

        rr:subjectMap
            [
                rr:template "http://example.com/warehouse/item/{itemID}" ;
                rr:class schema:WarehouseItem ;
            ] ;

        rr:predicateObjectMap
            [
                rr:predicate vision-ns:name ;
                rr:objectMap
                    [
                        rml:reference "itemName" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] ;

        rr:predicateObjectMap
            [
                rr:predicate vision-ns:description ;
                rr:objectMap
                    [
                        rml:reference "description" ;
                    ] ;
            ] ;

        rr:predicateObjectMap
            [
                rr:predicate vision-ns:quantity ;
                rr:objectMap
                    [
                        rml:reference "quantity" ;
                        rr:datatype xsd:integer ;
                    ] ;
            ] ;

        rr:predicateObjectMap
            [
                rr:predicate vision-ns:location ;
                rr:objectMap
                    [
                        rr:parentTriplesMap domain:LocationMapping ;
                        rml:reference "location" ;
                    ] ;
            ] .
}

# --------------------------------
# CountMapping ----------------
# --------------------------------
domain:CountMapping {
    domain:CountMapping a rr:TriplesMap ;
        rr:subjectMap
            [
                rr:template "http://www.ajan.de/item/{Name}" ;
                rr:class ajan:Item ;
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:name ;
                rr:objectMap
                    [
                        rml:reference "Name" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:count ;
                rr:objectMap
                    [
                        rml:reference "count" ;
                        rr:datatype xsd:integer ;
                    ] ;
            ] .
}

# --------------------------------
# DescriptionMapping -------------
# --------------------------------
domain:DescriptionMapping {
    domain:DescriptionMapping a rr:TriplesMap ;
        rr:subjectMap
            [
                rr:template "http://www.ajan.de/scene" ;
                rr:class ajan:Scene ;
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:description ;
                rr:objectMap
                    [
                        rml:reference "description" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] .
}

# --------------------------------
# SignalMapping ------------------
# --------------------------------
domain:SignalMapping {
    domain:SignalMapping a rr:TriplesMap ;
        rr:subjectMap
            [
                rr:template "http://www.ajan.de/signal" ;
                rr:class ajan:Signal
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:signalType ;
                rr:objectMap
                    [
                        rml:reference "signalType" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:signalValue ;
                rr:objectMap
                    [
                        rml:reference "signalValue" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] .
}

# --------------------------------
# PropertyMapping ----------------
# --------------------------------
domain:PropertyMapping {
    domain:PropertyMapping a rr:TriplesMap ;
        rr:subjectMap
            [
                rr:template "http://www.ajan.de/{itemName}/{propertyName}" ;
                rr:class ajan:Property ;
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:name ;
                rr:objectMap
                    [
                        rml:reference "name" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] ;
        rr:PredicateObjectMap
            [
                rr:predicate ajan:value ;
                rr:objectMap
                    [
                        rml:reference "value" ;
                        rr:datatype xsd:string ;
                    ] ;
            ] .
}